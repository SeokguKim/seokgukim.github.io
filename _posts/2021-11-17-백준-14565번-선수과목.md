---
title: 백준 14565번 선수과목
layout: post
tags: [cpp]
---
### 문제 개요
> 올해 Z대학 컴퓨터공학부에 새로 입학한 민욱이는 학부에 개설된 모든 전공과목을 듣고 졸업하려는 원대한 목표를 세웠다. 어떤 과목들은 선수과목이 있어 해당되는 모든 과목을 먼저 이수해야만 해당 과목을 이수할 수 있게 되어 있다. 공학인증을 포기할 수 없는 불쌍한 민욱이는 선수과목 조건을 반드시 지켜야만 한다. 민욱이는 선수과목 조건을 지킬 경우 각각의 전공과목을 언제 이수할 수 있는지 궁금해졌다. 계산을 편리하게 하기 위해 아래와 같이 조건을 간소화하여 계산하기로 하였다.
> 한 학기에 들을 수 있는 과목 수에는 제한이 없다.
> 1. 모든 과목은 매 학기 항상 개설된다.
> 2. 모든 과목에 대해 각 과목을 이수하려면 최소 몇 학기가 걸리는지 계산하는 프로그램을 작성하여라.
> 
> 첫 번째 줄에 과목의 수 N(1≤N≤1000)과 선수 조건의 수 M(0≤M≤500000)이 주어진다. 선수과목 조건은 M개의 줄에 걸쳐 한 줄에 정수 A B 형태로 주어진다. A번 과목이 B번 과목의 선수과목이다. A<B인 입력만 주어진다. (1≤A<B≤N)
> 
> 1번 과목부터 N번 과목까지 차례대로 최소 몇 학기에 이수할 수 있는지를 한 줄에 공백으로 구분하여 출력한다.

### 여러개 선수과목이 있는건 복잡하다
예제를 보면 알겠지만 얼핏 간단해 보여도 선수과목 여러개가 주어지는 과목의 경우 복잡해진다.  
벡터를 이용해서 잘 해보자.
### 코드
```c++
#include <iostream>
#include <vector>
using namespace std;

int N, M;//과목수 N과 선수조건수 M
vector<int> gwamok[1001];//선수조건에 대한 정보를 받을 벡터
int semester[1001];//각 과목별 최소 학기를 저장할 배열

int hakgi(int sunsu, int sido) {//학기수 계산 함수
    if (semester[sunsu]) return semester[sunsu];//만약 이미 계산된 결과가 있다면 그걸 리턴
    if (!gwamok[sunsu].empty()) {//해당 과목의 선수과목이 있다면
        int maxx = 0;//최소 소요학기를 알아볼 maxx
        for (auto ii : gwamok[sunsu]) maxx = max(maxx, hakgi(ii, 1));//선수과목 벡터를 모두 돌며 재귀호출로 소요학기 수의 최대값을 구한다
        sido += maxx;//구했으면 시도에 더해줌
    }
    return sido;//시도수를 리턴
}

int main() {//메인함수
    ios::sync_with_stdio(false);
    cin.tie(NULL); cout.tie(NULL);
//별거없는 입출력구문
    cin >> N >> M;//N, M 입력받고
    while (M--) {//선수조건들 입력받음
        int a, b;//임시로 변수 a, b에
        cin >> a >> b;//입력을 받고
        gwamok[b].push_back(a);//벡터의 b지점에 푸시해줌
    }
    for (int i = 1; i <= N; i++) {//출력문
        semester[i] = hakgi(i, 1);//일단 총 소요학기에 계산된 값을 할당해주면서
        cout << semester[i] << " ";//출력
    }
}
```
### 해설
선수과목 정보를 벡터를 이용해 저장해보자. 대충 과목수는 1000개랬으니 인덱스 고려해서 1001 크기의 벡터 배열을 생성하고,  
해당 과목의 인덱스에 선수과목들을 저장한다. 이후 재귀함수를 이용해 벡터를 탐색해가며 최소인 소요학기를 구하도록 알고리즘을 짰다.
### 여담
for auto문 처음으로 혼자 제대로 써본 것 같다. 다음엔 더 잘해야지
