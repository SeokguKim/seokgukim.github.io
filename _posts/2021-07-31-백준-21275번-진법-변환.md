---
tilte: 백준 21275번 진법 변환
layout: post
tags: [cpp]
---
### 문제 개요

> 첫번째 줄에 X를 A진법으로 표현한 값과 X를 B진법으로 표현한 값이 공백으로 구분되어 주어진다.  
> 각 자리수는 0 이상 z 이하이다. a부터 z 는 10부터 35 를 의미한다.
> 
> 단, 0을 제외한 각 수는 0 으로 시작하지 않으며, 길이는 최대 70 이다.  
> 만약 문제의 조건에 맞는 X, A, B가 유일하게 존재한다면, X를 십진법으로 표현한 수와 A와 B를 공백으로 나누어 출력하라.  
> 만약 만족하는 경우가 2가지 이상이라면 "Multiple"을, 없다면 "Impossible"을 출력하라.

### 진법 변환은 간단하다

**사실 구현하기 매우 쉬운 문제다.**  
이건 보자마자 감이 와서 대충 풀어야지 하고 풀었는데... 생각지도 못한 실수를 해서 한참 뭐지 했다.

### 코드
```c++
#include <iostream>

using namespace std;

string N, M;//입력
string strnary = "0123456789abcdefghijklmnopqrstuvwxyz";//문자열 처리용 문자열

long long Aarr[35] = { 0, };
long long Barr[35] = { 0, };
/*각 진법 변환결과 담아둘 배열 선언, X를 담아야 하므로 long long형*/
int cnt = 0;
/*카운터*/
int A,B;
long long X;
/*정답 진법수와 정답 십진법수, 진법은 2 <= A, B <= 36 이므로 int, X는 2^63 이하이므로 long long*/
int main()
{
	cin >> N >> M;

	for (int i = 2; i <= 36; i++) {//10진법화
		for (int j = 0; j < N.length(); j++) {
			if (strnary.find(N[j]) < i) {
				Aarr[i - 2] = Aarr[i - 2] * i + strnary.find(N[j]);//받은 문자를 처리할때 문자열 검색을 이용해 정수로 변환
			}
			else {
				Aarr[i - 2] = -1;//표현할 수 없으면 -1로 저장
				break;
			}
		}
	}

	for (int i = 2; i <= 36; i++) {
		for (int j = 0; j < M.length(); j++) {
			if (strnary.find(M[j]) < i) {
				Barr[i - 2] = Barr[i - 2] * i + strnary.find(M[j]);//받은 문자를 처리할때 문자열 검색을 이용해 정수로 변환
			}
			else {
				Barr[i - 2] = -1;//표현할 수 없으면 -1로 저장
				break;
			}
		}
		for (int k = 2; k <= 36; k++) {//비교 알고리즘
			if (i == k) {//A != B 이므로 A = B는 컨티뉴
				continue;
			}
			if (Barr[i - 2] == -1 || Aarr[k - 2] == -1) {//표현 불가로 판정된것도 컨티뉴
				continue;
			}
			if (Barr[i - 2] == Aarr[k - 2]) {//조건 맞으면 변수 설정하고 카운트
				A = k;
				B = i;
				X = Barr[i - 2];
				cnt++;
			}
		}
	}
	if (cnt == 0) {//불가능
		cout << "Impossible";
	}
	else if (cnt > 1) {//다수
		cout << "Multiple";
	}
	else {//일반
		cout << X << ' ' << A << ' ' << B;
	}
}
```

### 해설

10진법 변환 알고리즘 자체는 간단하다.  
변수를 계속 받아오면서 진법만큼 곱하고 수를 넘겨주면 간단.  
여기서 더 진법보다 더 큰 수를 가져오면 변환이 안되므로 해당 인덱스 원소는 -1로 채우고,  
-1이 아닌 원소들에 대해 비교를 실행하며 결과값을 반환하게 만들었다.

### 여담

분명 자신이 있었고 빠르게 코드를 작성했는데 자꾸 17/24 밖에 안 뜨길래 한참을 헤맸다.  
변수도 long long 형으로 제대로 선언했고... 진법 변환도 완벽한데 왜지?  
그랬더니... 불가능할때 출력할 결과를 Impossible이 아니라 Impossibe로 썼다는 사실을 뒤늦게 알아버렸다...

**그냥 단순 오타였네.**

오타 수정하자마자 바로 터지는 "맞았습니다!"를 보면서 1시간 뻘짓했구나 느꼈다.  
다음부턴 글자 주의해서 좀 쓰자...
