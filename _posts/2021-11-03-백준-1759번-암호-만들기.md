---
title: 백준 1759번 암호 만들기
layout: post
tags: [cpp]
---
### 문제 개요
> 바로 어제 최백준 조교가 방 열쇠를 주머니에 넣은 채 깜빡하고 서울로 가 버리는 황당한 상황에 직면한 조교들은, 702호에 새로운 보안 시스템을 설치하기로 하였다. 이 보안 시스템은 열쇠가 아닌 암호로 동작하게 되어 있는 시스템이다.
> 암호는 서로 다른 L개의 알파벳 소문자들로 구성되며 최소 한 개의 모음(a, e, i, o, u)과 최소 두 개의 자음으로 구성되어 있다고 알려져 있다. 또한 정렬된 문자열을 선호하는 조교들의 성향으로 미루어 보아 암호를 이루는 알파벳이 암호에서 증가하는 순서로 배열되었을 것이라고 추측된다. 즉, abc는 가능성이 있는 암호이지만 bac는 그렇지 않다.
> 새 보안 시스템에서 조교들이 암호로 사용했을 법한 문자의 종류는 C가지가 있다고 한다. 이 알파벳을 입수한 민식, 영식 형제는 조교들의 방에 침투하기 위해 암호를 추측해 보려고 한다. C개의 문자들이 모두 주어졌을 때, 가능성 있는 암호들을 모두 구하는 프로그램을 작성하시오.
> 
> 첫째 줄에 두 정수 L, C가 주어진다. (3 ≤ L ≤ C ≤ 15) 다음 줄에는 C개의 문자들이 공백으로 구분되어 주어진다. 주어지는 문자들은 알파벳 소문자이며, 중복되는 것은 없다.
> 
> 각 줄에 하나씩, 사전식으로 가능성 있는 암호를 모두 출력한다.

### 정렬한 뒤 패러미터를 잘 줘서 백트래킹
일단 사전순이라는데에 감사를. 정렬시켜놓고 인덱스 조작하면서 패러미터 가지고 백트래킹 하면 된다.
### 코드
```c++
#include <iostream>
#include <algorithm>
using namespace std;

int L, C;//전제 입력받을 변수
char hoobo[15];//후보 문자들 저장할 배열

void tracker(int idc, string pre, int hv, int hc) {//백트래킹 알고리즘
	if (hoobo[idc] == 'a' || hoobo[idc] == 'e' || hoobo[idc] == 'i' || hoobo[idc] == 'o' || hoobo[idc] == 'u') hv++;//인덱스에 해당하는 값이 모음이면 hv를 1 증가
	else hc++;;//아니면 hc를 1증가
	pre += hoobo[idc];//해당 인덱스 값을 문자열에 추가
	if (hv && hc > 1 && pre.length() == L) {//모음이 1개, 자음이 2개 이상이고 문자열 길이가 L에 도달하면
		cout << pre << '\n';//문자열 출력하고
		return;//강제종료
	}
	for (int i = idc + 1; i < C; i++) tracker(i, pre, hv, hc);//조건을 만족하지 못한경우 다음 인덱스들에 대해 인자들 값으로 돌림
}

int main() {
	ios::sync_with_stdio(false);
	cin.tie(NULL); cout.tie(NULL);

	cin >> L >> C;//입력
	for (int i = 0; i < C; i++) cin >> hoobo[i];//char 배열에 문자 저장
	sort(hoobo, hoobo + C);//정렬
	if (C - L == 0) cout << hoobo << '\n';//대충 C == L 이면 정렬한 값이 바로 답일 거니까 출력해주고
	else for (int i = 0; i <= C - L; i++) tracker(i, "", 0, 0);//아니면 트래킹 알고리즘을 돌리는데 어차피 사전순으로 돌리는거라 첫 인덱스가 C - L보다 작으면 안되니 저렇게 해줬다
}
```
### 해설
일단 string형으로 받자니 입력문 길어져서 귀찮다고 char형으로 대충 받은 다음, 정렬 함수로 정렬해두면 인덱스 증가에 따라 사전순도 증가하기 때문에,  
하나 정하고 다음 인덱스로 가는 항렬관계가 명확해져서 편해진다.  
이제 여기서 트래커 함수를 돌려가며 인자에 문자열을 만들고, 문자열 길이가 지정 길이가 되면 유효성 검사를 통해 출력하고 아니면 폐기하는 식의 알고리즘을 돌렸다.
### 여담
백트래킹이라고 떡하니 적혀있길래 조건을 더 빡세게 걸어야 될 줄 알았지만, 의외로 그냥 대충 했는데 널널하게 통과됐다.  
대신 처음엔 모음 1개만 조건인 줄 알고 조건 잘못 걸었다 헤맸지만.
